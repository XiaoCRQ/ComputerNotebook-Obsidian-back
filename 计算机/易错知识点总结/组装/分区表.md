# 🖥️ MBR 与 GPT 分区表区别

在硬盘管理中，**分区表（Partition Table）** 是用于记录磁盘上各个分区信息的数据结构。常见的两种分区表类型是：**MBR** 和 **GPT**。

---

## ✅ 1. MBR（Master Boot Record）

- **全称**：主引导记录（Master Boot Record）
- **支持最大磁盘容量**：2TB
- **最多支持的主分区数量**：4个（可扩展为多个逻辑分区）
- **兼容性**：
  - 支持旧系统（如 Windows XP、Windows 7）
  - 与大多数传统 BIOS 系统兼容
- **启动方式**：使用传统的 **BIOS 启动模式**

### 📌 结构特点：

- MBR 分区信息保存在磁盘最开始的 **512 字节** 中。
- 结构如下

| 区域                            | 大小        | 内容                         |
| ----------------------------- | --------- | -------------------------- |
| 引导代码（Boot Code）               | 446 字节    | 主引导程序代码，负责加载活动分区的操作系统      |
| **DPT（Disk Partition Table）** | **64 字节** | 分区表，最多记录4个主分区的信息           |
| 签名（Signature）                 | 2 字节      | 固定值 `0x55AA`，表示这是一个有效的 MBR |
> ⚠️ 缺点：不支持大于 2TB 的磁盘；分区结构脆弱，损坏后难以恢复。
- MBR分区的最后两个字节为结束字节，结束标志的十六进制为 **55AA**
- 分区类型码如下

| 分区类型码 | 含义/用途                      |
|------------|-------------------------------|
| `07`       | NTFS、exFAT（Windows常用）     |
| `0B`       | FAT32（CHS）                  |
| `0C`       | FAT32（LBA）                  |
| `0E`       | FAT16（LBA）                  |
| `05`       | 扩展分区（CHS）               |
| `0F`       | 扩展分区（LBA）               |
| `83`       | Linux 原始分区（ext2/ext3/ext4）|
| `82`       | Linux Swap 分区                |
| `A5`       | FreeBSD 分区                   |
| `A6`       | OpenBSD 分区                   |
| `AF`       | macOS HFS 分区                 |

---

## ✅ 2. GPT（GUID Partition Table）

- **全称**：全局唯一标识分区表（GUID Partition Table）
- **支持最大磁盘容量**：理论上无上限（常见支持到 9.4 ZB，即 94亿 TB）
- **支持的分区数量**：默认支持 **128 个分区**
- **兼容性**：
  - 需要 **UEFI 启动模式**（较新主板支持）
  - 支持 Windows 7 及以上系统（64位）、Linux、macOS 等现代操作系统
- **冗余备份**：
  - GPT 在磁盘前后都有分区表备份，安全性更高

### 📌 结构特点：

- 使用唯一的 GUID（全局唯一标识符）来标识每个分区
- 包含多个分区项（每项描述一个分区）
- 支持 CRC 校验，提高数据完整性
- 自带备份和恢复功能

> ✅ 优点：支持大容量磁盘、更多分区、更强的数据容错能力。

---

## 🔍 对比总结表

| 特性           | MBR                          | GPT                                   |
|----------------|------------------------------|-------------------------------------|
| 最大磁盘容量    | 2TB                          | 理论上支持到 9.4 ZB（超大容量）          |
| 分区数量       | 最多4个主分区（可用扩展分区划分逻辑分区） | 默认支持128个分区                          |
| 启动方式       | BIOS 启动模式                | UEFI 启动模式                        |
| 兼容性         | 兼容旧操作系统和传统 BIOS       | 兼容现代操作系统和 UEFI 固件             |
| 结构安全性     | 单一分区表，易受损坏           | 头尾都有分区表备份，支持 CRC 校验，容错能力强 |
| 分区标识       | 无统一标识符，仅分区类型标志     | 使用 GUID 作为唯一标识                    |
| 使用场景建议   | 旧设备、小容量磁盘、兼容性要求高 | 新设备、大容量磁盘、需要更多分区和安全性   |

---

## 🧪 如何查看你的磁盘使用的是哪种分区表？

### Windows 方法一：使用磁盘管理工具

1. 按 `Win + R`，输入 `diskmgmt.msc` 回车
2. 右键点击磁盘 → 属性 → 卷 → 查看“磁盘分区形式”

### Windows 方法二：使用命令提示符

1. 以管理员身份打开命令提示符（CMD 或 PowerShell）
2. 输入以下命令：
   ```bash
   wmic diskdrive get InterfaceType,MediaType,PartitionStyle